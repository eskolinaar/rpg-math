<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
        <meta http-equiv="Cache-Control" content="no-cache">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="0">
        <script src="scripts/ext/jquery-3.6.0.min.js"></script>
        <script src="scripts/Math.js" type="module"></script>
        <script src="scripts/ui-globe.js"></script>
        <script src="scripts/ext/three-r144.min.js" type="module"></script>
        <script src="scripts/ext/GLTFLoader-r144.js" type="module"></script>
        <script src="scripts/expression.js" type="module"></script>
        <script src="scripts/statistics.js" type="module"></script>
        <script src="scripts/helper.js" type="module"></script>
        <script src="scripts/MapManager.js" type="module"></script>
        <script src="scripts/World.js" type="module"></script>
        <script src="scripts/movement.js" type="module"></script>
        <script src="scripts/game.js" type="module"></script>
        <script src="scripts/combat.js" type="module"></script>
        <script src="scripts/quests.js" type="module"></script>
        <script src="scripts/combatAnimations.js" type="module"></script>
        <script type="text/javascript" src="scripts/consoleCommands.js"></script>
        <script src="scripts/savegame.js" type="module"></script>
        <link rel="stylesheet" type="text/css" href="scripts/main.css">
    </head>
    <body>
        <canvas id="three_outputcanvas" width="600" height="400"></canvas>  
        <div id="main">
        </div>
        <div class="game_mode_de message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>Der Zauberlehrer</h1>
            <p>Es sind interessante Zeiten f&uuml;r alle die das Zauberhandwerk erlernen wollen.</p>
            <div class="">

                <button data-load="exercises.list.json" class="mode load">
                    <h2>Mathe-Abenteuer</h2>
                </button>
                <button data-load="challenge.list.json" class="mode load">
                    <h2>Herausforderung</h2>
                </button>
                <button data-load="peaceful.menu.json" class="mode submenu">
                    <h2>Friedliche Hasen</h2>
                </button>
                <button data-load="carnival.list.json" class="mode load">
                    <h2>Fasching</h2>
                </button>                <!--
                <button data-load="xmas.list.json" class="mode load">
                    <h2>Weihnachten</h2>
                </button>
                <button data-load="easter.list.json" class="mode load">
                    <h2>Ostern</h2>
                </button>
                <button data-load="halloween.list.json" class="mode load">
                    <h2>Halloween</h2>
                </button>
                -->
                <button data-id="editor_message" class="mode">
                    <h2>Erschaffen</h2>
                </button>
                <br><br>
                <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>
                <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
            </div>
        </div>  
        <div class="game_mode_en message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>math riddle crawler</h1>
            <p>These are interesting times for those who want to learn magic.</p>
            <div class="">
                <button data-load="exercises.list.json" class="mode load">
                    <h2>Play</h2>
                </button>
                <button data-load="challenge.list.json" class="mode load">
                    <h2>Challenge</h2>
                </button>
                <button data-load="peaceful.list.json" class="mode load">
                    <h2>Peaceful Rabbits</h2>
                </button>
                <button data-load="carnival.list.json" class="mode load">
                    <h2>Carnival</h2>
                </button>
                <!--
                <button data-load="xmas.list.json" class="mode load">
                    <h2>Christmas</h2>
                </button>
                <button data-load="easter.list.json" class="mode load">
                    <h2>Easter</h2>
                </button>
                <button data-load="halloween.list.json" class="mode load">
                    <h2>Halloween</h2>
                </button>
                -->
                <button data-id="editor_message" class="mode">
                    <h2>Create</h2>
                </button>
                <br><br>
                <button data-id="howto_message">howto</button>
                <button data-id="impressum_message">impressum</button>
            </div>
        </div>               
        <div class="startup_message_de message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>Der Zauberlehrer</h1>
            <p class="level_introtext">Der Keller muss mal wieder in Ordnung gebracht werden. Schau mal rein und sorg f&uuml;r Ordnung. Das sollte f&uuml;r einen Lehrling mit deinen F&auml;higkeiten ja ein Kinderspiel sein.</p>
            <div class="startup_progress">Lade Spieldaten ...</div>
            <div class="startup_navigation">
                <button data-id="" data-difficulty="1" class="play">
                    <h2>Leicht</h2>
                    <img src="./objects/symbol/blob.jpg">
                    <p>Additionen bis 20<br><br>
                    
                        <br></p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <button data-id="" data-difficulty="2" class="play">
                    <h2>Mittel</h2>
                    <img src="./objects/symbol/Watcher.jpg">
                    <p>Additionen bis 60<br>
                        Subtraktionen bis 60<br>
                    
                        <br></p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">    
                </button>
                <button data-id="" data-difficulty="3" class="play">
                    <h2>Schwer</h2>
                    <img src="./objects/symbol/Treeling.jpg">
                    <p>Additionen bis 100<br>
                        Subtraktionen bis 100<br>
                        Multiplikationen bis 100</p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <button data-id="custom_difficulty" class="play">
                    <h2>Angepasst</h2>
                    <img src="./objects/symbol/golem.jpg">
                    <p>Additionen, <br>Subtraktionen <br>und mehr</p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>   
                <br><br>
                <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>
                <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
                <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
                <button data-id="settings_message">Einstellungen</button>
            </div>
        </div>
        <div class="settings_message settings_message_de message">
            <p>
                <label for="brightness_multiplicator_de">Helligkeit</label>
                <input id="brightness_multiplicator_de" data-sync="brightness_multiplicator_en" class="brightness_multiplicator" type="range" min="1" max="5" value="1">
                <span>1</span>
            </p>
            <p>
                <label for="fog_multiplicator_de">Nebel-Sichtweite</label>
                <input id="fog_multiplicator_de" data-sync="fog_multiplicator_en" class="fog_multiplicator" type="range" min="1" max="5" value="1">
                <span>1</span>
            </p>
            <p>
                <label for="animations_enabled_de">Animationen</label>
                <input id="animations_enabled_de" data-sync="animations_enabled_en" class="animations_enabled" type="checkbox" checked="checked">
            </p>
            <button data-id="startup_message">Zur&uuml;ck</button>
            <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>
            <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>
        <div class="settings_message settings_message_en message">
            <p>
                <label for="brightness_multiplicator_en">Helligkeit</label>
                <input id="brightness_multiplicator_en" data-sync="brightness_multiplicator_de" class="brightness_multiplicator" type="range" min="1" max="5" value="1">
            </p>
            <p>
                <label for="fog_multiplicator_en">Nebel-Sichtweite</label>
                <input id="fog_multiplicator_en" data-sync="fog_multiplicator_de" class="fog_multiplicator" type="range" min="1" max="5" value="1">
            </p>
            <button data-id="startup_message">Zur&uuml;ck</button>
            <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>
            <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>
        <div class="custom_difficulty custom_difficulty_de message">
            <p>Hier kannst du deine eigene Schwierigkeit w&auml;hlen.</p>
            <div style="text-align:left">
                <p>
                    <label for="custom_difficulty_add_de">Addition</label>
                    <input id="custom_difficulty_add_de" data-sync="custom_difficulty_add_en" class="custom_difficulty custom_difficulty_add" type="range" min="0" step="10" max="100" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_sub_de">Subtraktion</label>
                    <input id="custom_difficulty_sub_de" data-sync="custom_difficulty_sub_en" class="custom_difficulty custom_difficulty_sub" type="range" min="0" step="10" max="100" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_mul_de">Multiplikation</label>
                    <input id="custom_difficulty_mul_de" data-sync="custom_difficulty_mul_en" class="custom_difficulty custom_difficulty_mul" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_div_de">Division</label>
                    <input id="custom_difficulty_div_de" data-sync="custom_difficulty_div_en" class="custom_difficulty custom_difficulty_div" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_mod_de">Modulo</label>
                    <input id="custom_difficulty_mod_de" data-sync="custom_difficulty_mod_en" class="custom_difficulty custom_difficulty_mod" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
            </div>
            <button data-id="" data-difficulty="*" class="play">
                <img class="play_icon" src="./objects/symbol/Play.svg">
            </button> 
            <!-- <button data-id="startup_message">Zur&uuml;ck</button> -->
        </div>


        <div class="custom_difficulty custom_difficulty_en message">
            <p>Choose your own difficulty</p>
            <div style="text-align:left">
                <p>
                    <label for="custom_difficulty_add_en">Addition</label>
                    <input id="custom_difficulty_add_en" data-sync="custom_difficulty_add_de" class="custom_difficulty custom_difficulty_add" type="range" min="0" step="10" max="100" value="10">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_sub_en">Subtraction</label>
                    <input id="custom_difficulty_sub_en" data-sync="custom_difficulty_sub_de" class="custom_difficulty custom_difficulty_sub" type="range" min="0" step="10" max="100" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_mul_en">Multiplication</label>
                    <input id="custom_difficulty_mul_en" data-sync="custom_difficulty_mul_de" class="custom_difficulty custom_difficulty_mul" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_div_en">Division</label>
                    <input id="custom_difficulty_div_en" data-sync="custom_difficulty_div_de" class="custom_difficulty custom_difficulty_div" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
                <p>
                    <label for="custom_difficulty_mod_en">Modulo</label>
                    <input id="custom_difficulty_mod_en" data-sync="custom_difficulty_mod_de" class="custom_difficulty custom_difficulty_mod" type="range" min="0" step="50" max="200" value="0">
                    <span>0</span>
                </p>
            </div>
            <button data-id="" data-difficulty="*" class="play">
                <img class="play_icon" src="./objects/symbol/Play.svg">
            </button>
            <!-- <button data-id="startup_message">Zur&uuml;ck</button> -->
        </div>

        <div class="startup_message_en message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>math riddle crawler</h1>
            <p class="level_introtext">There's something crawling in our cellar. Could you be so kind a have a look? Should be quite easy for a wizard with your abilities.</p>
            <div class="startup_progress">Loading assets ...</div>
            <div class="startup_navigation">
                <button data-id="" data-difficulty="1" class="play">
                    <h2>Easy</h2>
                    <img src="./objects/symbol/blob5d.png">
                    <p>additions up to 20<br><br><br></p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <button data-id="" data-difficulty="2" class="play">
                    <h2>Normal</h2>
                    <img src="./objects/symbol/Watcher_bonerig_b28_v2.png">
                    <p>additions up to 60<br>
                        subtractions up to 60<br><br></p>
                        <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <button data-id="" data-difficulty="3" class="play">
                    <h2>Hard</h2>
                    <img src="./objects/symbol/Treeling.png">
                    <p>additions up to 100<br>
                        subtractions up to 100<br>
                        multiplications up to 100</p>
                        <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <button data-id="custom_difficulty" class="play">
                    <h2>Custom</h2>
                    <img src="./objects/symbol/golem.jpg">
                    <p>Additionen, <br>Subtraktionen <br>und mehr</p>
                    <img class="play_icon" src="./objects/symbol/Play.svg">
                </button>
                <br><br>
                <button data-id="howto_message">howto</button>
                <button data-id="impressum_message">impressum</button>
                <button data-id="game_mode">main menu</button>
                <button data-id="settings_message">settings</button>
            </div>
        </div>    
        <div class="impressum_message_de message">
            <h1>Impressum</h1>
            <p>Diese Homepage ist privat.<br>
            Es werden keine personenbezogenen Daten von Besuchern gespeichert.<br>
            Es werden keine Daten an Dritte weitergegeben.<br>
            Es kommen keine Tracker zur Anwendung und es werden keine Fremdanbieterplugins eingebunden.<br>
            Es wird keine Werbung geschalten.</p>
            <p>Es werden keine Cookies verwendet.</p>
            <p>Es werden Daten in der LocalStorage abgelegt, aber nicht ins Internet &uuml;bertragen. In diesen wird der Spiel-Fortschritt gespeichert. <button data-id="impressum_message" class="clearLocalStorage smallButton">Jetzt l&ouml;schen</button></p>
            <p>Dieses Projekt ist Open Source unter der  MIT-Lizenz. Der Code ist auf Github ersichtlich. <a target="_blank" href="https://github.com/eskolinaar/rpg-math">Quellcode</a></p>
            <p>Medieninhaber: Maurer Peter<br>
            Wohnort: A-4190 Bad Leonfelden, Adalbert Stifter-Stra&szlig;e 23<br>
            E-Mail Adresse: petermaurer6063@gmail.com<br>
            Unternehmensgegenstand: privat, keine kommerziellen Interessen, keine Meinungsbildung</p>
            <button class="needs_map" data-id="">Loslegen</button>
            <button class="needs_map" data-id="startup_message">Was soll ich nochmal machen?</button>
            <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>    
        <div class="impressum_message_en message">
            <h1>impressum</h1>
            <p>This homepage is non-commercial.<br>
            No personal data is sent or stored.<br>
            There are no third party plugins or relations receiving data.<br>
            There are no trackers on this site.<br>
            This site is ad free.</p>
            <p>This project is available under the MIT license. The code is hosted on github. <a target="_blank" href="https://github.com/eskolinaar/rpg-math">source code</a></p>
            <p>author: Maurer Peter<br>
            location: Austria, A-4190 Bad Leonfelden, Adalbert Stifter-Stra&szlig;e 23<br>
            email: petermaurer6063@gmail.com<br>
            company: no company</p>
            <button class="needs_map" data-id="">let's play</button>
            <button class="needs_map" data-id="startup_message">intro</button>
            <button data-id="howto_message">howto</button>
            <button data-id="game_mode">main menu</button>
        </div>
        <div class="howto_message_de message">
            <h1>Anleitung</h1>
            <p>Lauf mit den Tasten W, A, S, D. Im Kampf l&ouml;se die angezeigte Aufgabe und w&auml;hle die richtige Antwort mit den Tasten 1, 2 und 3. </p>
            <p>Pausieren kannst du mit ESC.</p>
            <button class="needs_map" data-id="">Loslegen</button>
            <button class="needs_map" data-id="startup_message">Was soll ich nochmal machen?</button>
            <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
            <button data-id="editor_message">Ich bin ein Erschaffer!</button>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>
        <div class="editor_message_de message">
            <h1>Level Editor</h1>
            <p>Hier kannst du dein eigenes Level erstellen. <a target="_blank" href="./map.html">&#187;&nbsp;Editor</a></p>
            <p>Hier kannst du eine Level-Datei ausprobieren: <input type="file" class="map_editor_file_upload" name="map_editor_file_upload"></p>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>
        <div class="editor_message_en message">
            <h1>map editor</h1>
            <p>You can create you own map here: <a target="_blank" href="./map.html">&#187;&nbsp;editor</a></p>
            <p>A created map-file can be loaded here: <input type="file" class="map_editor_file_upload" name="map_editor_file_upload"></p>
            <button class="needs_map" data-id="startup_message">play</button>
            <button data-id="game_mode">main menu</button>
        </div>        
        <div class="howto_message_en message">
            <h1>howto</h1>
            <p>run with keys W, A, S, D. in combat solve the calculation and answer with 1, 2 and 3 keys. </p>
            <p>you can pause the game with ESC.</p>
            <button class="needs_map" data-id="">let's play</button>
            <button class="needs_map" data-id="startup_message">intro</button>
            <button data-id="impressum_message">impressum</button>
            <button data-id="editor_message">i am a maker</button>
            <button data-id="game_mode">main menu</button>
        </div>        
        <div class="pause_message_de message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>Pause</h1>
            <p>Das Spiel ist angehalten.</p>
            <button class="needs_map" data-id="">Weiter</button>
            <button class="needs_map" data-id="startup_message">Was soll ich nochmal machen?</button>
            <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>            
            <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
            <p class="pause_message_mapname"></p>
            <p class="pause_message_maplink"></p>
        </div>
        <div class="pause_message_en message">
            <button data-id="fullscreen"><img src="./objects/symbol/FullScreen.svg"></button>
            <h1>pause</h1>
            <p>the game is paused.</p>
            <button class="needs_map" data-id="">play on</button>
            <button class="needs_map" data-id="startup_message">intro</button>
            <button data-id="howto_message">howto</button>            
            <button data-id="impressum_message">impressum</button>
            <button data-id="game_mode">main menu</button>
        </div>        
        <div class="death_message_de message">
            <h1>Gl&uuml;ck gehabt</h1>
            <p>Gut dass dein Lehrer auf dich schaut. Das war jetzt echt Rettung in letzter Sekunde.</p>
            <button class="needs_map" data-id="">Weiter</button>
            <button class="needs_map" data-id="startup_message">Was soll ich nochmal machen?</button>
            <button data-id="howto_message">Wie geht das nochmal mit dem zaubern?</button>            
            <button data-id="impressum_message">Wer bist du nochmal? (Impressum)</button>            
        </div>  
        <div class="death_message_en message">
            <h1>saved</h1>
            <p>Your magic teacher took care of you.</p>
            <button class="needs_map" data-id="">play on</button>
            <button class="needs_map" data-id="startup_message">intro</button>
            <button data-id="howto_message">howto</button>            
            <button data-id="impressum_message">impressum</button>            
        </div>
        <div class="success_message_de message">
            <h1>Bravo</h1>
            <p>Ich wusste dass du es schaffst. Lust auf die n&auml;chste Aufgabe?</p>
            <p class="statistic_summary"></p>
            <button data-id="nextMap">Zum n&auml;chsten Level</button>
        </div>      
        <div class="success_message_en message">
            <h1>yeah</h1>
            <p>You did it. I knew you could make it. Now let's get on to the next task.</p>
            <p class="statistic_summary"></p>
            <button data-id="nextMap">Proceed to next Level</button>                      
        </div>
        <div class="quest_message_de message">
            <h1>Aufgabe</h1>
            <p class="quest_text_placeholder"></p>
            <button data-id="quest_dismiss">Ablehnen</button>
            <button data-id="quest_accept">Annehmen</button>
        </div>
        <div class="quest_message_en message">
            <h1>Quest</h1>
            <p class="quest_text_placeholder"></p>
            <button data-id="quest_dismiss">Dismiss</button>
            <button data-id="quest_accept">Accept</button>
        </div>
        <div class="simple_message_de message">
            <p class="simple_text_placeholder"></p>
            <button data-id="message_dismiss">Weiter</button>
        </div>
        <div class="simple_message_en message">
            <p class="simple_text_placeholder"></p>
            <button data-id="message_dismiss">Dismiss</button>
        </div>
        <div class="switch_message_de message">
            <h1>Schalter</h1>
            <p class="switch_text_placeholder"></p>
            <button class="switch_off" data-id="switch_off">Aus</button>
            <button class="switch_on" data-id="switch_on">Ein</button>
        </div>
        <div class="switch_message_en message">
            <h1>Switch</h1>
            <p class="switch_text_placeholder"></p>
            <button class="switch_off" data-id="switch_off">Off</button>
            <button class="switch_on" data-id="switch_on">On</button>
        </div>
        <div class="submenu_de message">
            <div class="dynamic">
                <!-- generated submenu from maplist - de -->
            </div>
            <button data-id="game_mode">Ich will zum Hauptmen&uuml;</button>
        </div>
        <div class="submenu_en message">
            <div class="dynamic">
                <!-- generated submenu from maplist - en -->
            </div>
            <button data-id="game_mode">main menu</button>
        </div>
        <div class="language_ui">
            <button class="language_en" data-lang="en">english</button>
            <button class="language_de" data-lang="de">deutsch</button>
        </div>
        <div id="combat_ui">
            <ui-globe id="player_life" class="player_life" value="10" max="10" color="#710808"></ui-globe>
            <progress id="player_life_mobile" class="player_life" value="10" max="10"></progress>
            <ui-globe id="mob_life" class="mob_life" value="70" max="70" color="#710808"></ui-globe>
            <progress id="mob_life_mobile" class="mob_life" value="70" max="70" color="#710808"></progress>
        </div>
        <div id="movement_ui">
            <ul>
                <li class="plate action arrow_up when_mobile" data-id="stepForward"></li><li class="plate action arrow_left" data-id="turnLeft"></li><li class="plate action arrow_up when_desktop" data-id="stepForward"></li><li class="plate action arrow_right" data-id="turnRight"></li>
            </ul>
        </div>
        <div id="quest_ui">
        </div>
        <div id="notification_de">
            <p>Quest abgeschlossen!</p>
        </div>
        <div id="notification_en">
            <p>Quest complete!</p>
        </div>        
        <div id="difficulty_ui">
        </div>
        <div id="compass_ui"></div>
    </body>
</html>